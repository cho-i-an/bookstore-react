{"ast":null,"code":"export const CartTypes = {\n  ADD: 'ADD',\n  REMOVE: 'REMOVE',\n  CLEAR: 'CLEAR'\n};\n// this is used by the reducer. You can define it on the CartReducer\nexport const initialCartState = [];\nconst findItem = (cart, id) => cart.find(item => item.id === id);\nexport const cartReducer = (state, action) => {\n  switch (action.type) {\n    case CartTypes.ADD:\n      if (findItem(state, action.item.bookId)) {\n        return state.map(book => book.id === action.item.bookId ? {\n          ...book,\n          quantity: book.quantity + 1\n        } : book);\n      } else {\n        console.log(\"state\", ...state, {\n          id: action.id,\n          items: action.item,\n          quantity: 1\n        });\n        return [...state, {\n          id: action.id,\n          items: action.item,\n          quantity: 1\n        }];\n      }\n    case CartTypes.REMOVE:\n      /*\n         will be defiend in Project 7\n       */\n      return state;\n    case CartTypes.CLEAR:\n      return state;\n    // will be defined in Project 7\n    default:\n      throw new Error(`Invalid action type ${action.type}`);\n  }\n};","map":{"version":3,"names":["CartTypes","ADD","REMOVE","CLEAR","initialCartState","findItem","cart","id","find","item","cartReducer","state","action","type","bookId","map","book","quantity","console","log","items","Error"],"sources":["/Users/ann/Desktop/CS5244/IAnBookstoreReactSession/client/src/reducers/CartReducer.tsx"],"sourcesContent":["import {ShoppingCartItem, BookItem} from \"../types\";\nimport {Dispatch, ReducerAction} from \"react\";\n\n\nexport const CartTypes = {\n    ADD: 'ADD',\n    REMOVE: 'REMOVE',\n    CLEAR: 'CLEAR'\n};\n\nexport type AppActions = {\n    id: number;\n    type: 'ADD' | 'REMOVE' | 'CLEAR';\n    item: BookItem;\n}\n\n// this is used by the reducer. You can define it on the CartReducer\nexport const initialCartState: ShoppingCartItem[] = [];\n\n\nconst findItem = (cart: any[], id: number) => cart.find((item) => item.id === id);\n\nexport const cartReducer = (state: ShoppingCartItem[], action: AppActions) => {\n\n    switch (action.type) {\n        case CartTypes.ADD:\n\n\n            if (findItem(state, action.item.bookId)) {\n\n                return state.map((book) => book.id === action.item.bookId ? {\n                    ...book,\n                    quantity: book.quantity + 1\n                } : book);\n            } else {\n\n                console.log(\"state\",\n                    ...state,\n                    {id: action.id,items:action.item, quantity: 1 },\n                );\n                return [\n                    ...state,\n                    {\n                        id: action.id,\n                        items: action.item,\n                        quantity: 1\n                    }\n                ];\n            }\n\n\n\n        case CartTypes.REMOVE:\n            /*\n               will be defiend in Project 7\n             */\n            return state;\n        case CartTypes.CLEAR:\n            return state;    // will be defined in Project 7\n        default:\n            throw new Error(`Invalid action type ${action.type}`);\n    }\n};"],"mappings":"AAIA,OAAO,MAAMA,SAAS,GAAG;EACrBC,GAAG,EAAE,KAAK;EACVC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE;AACX,CAAC;AAQD;AACA,OAAO,MAAMC,gBAAoC,GAAG,EAAE;AAGtD,MAAMC,QAAQ,GAAGA,CAACC,IAAW,EAAEC,EAAU,KAAKD,IAAI,CAACE,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKA,EAAE,CAAC;AAEjF,OAAO,MAAMG,WAAW,GAAGA,CAACC,KAAyB,EAAEC,MAAkB,KAAK;EAE1E,QAAQA,MAAM,CAACC,IAAI;IACf,KAAKb,SAAS,CAACC,GAAG;MAGd,IAAII,QAAQ,CAACM,KAAK,EAAEC,MAAM,CAACH,IAAI,CAACK,MAAM,CAAC,EAAE;QAErC,OAAOH,KAAK,CAACI,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACT,EAAE,KAAKK,MAAM,CAACH,IAAI,CAACK,MAAM,GAAG;UACxD,GAAGE,IAAI;UACPC,QAAQ,EAAED,IAAI,CAACC,QAAQ,GAAG;QAC9B,CAAC,GAAGD,IAAI,CAAC;MACb,CAAC,MAAM;QAEHE,OAAO,CAACC,GAAG,CAAC,OAAO,EACf,GAAGR,KAAK,EACR;UAACJ,EAAE,EAAEK,MAAM,CAACL,EAAE;UAACa,KAAK,EAACR,MAAM,CAACH,IAAI;UAAEQ,QAAQ,EAAE;QAAE,CAClD,CAAC;QACD,OAAO,CACH,GAAGN,KAAK,EACR;UACIJ,EAAE,EAAEK,MAAM,CAACL,EAAE;UACba,KAAK,EAAER,MAAM,CAACH,IAAI;UAClBQ,QAAQ,EAAE;QACd,CAAC,CACJ;MACL;IAIJ,KAAKjB,SAAS,CAACE,MAAM;MACjB;AACZ;AACA;MACY,OAAOS,KAAK;IAChB,KAAKX,SAAS,CAACG,KAAK;MAChB,OAAOQ,KAAK;IAAK;IACrB;MACI,MAAM,IAAIU,KAAK,CAAE,uBAAsBT,MAAM,CAACC,IAAK,EAAC,CAAC;EAC7D;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
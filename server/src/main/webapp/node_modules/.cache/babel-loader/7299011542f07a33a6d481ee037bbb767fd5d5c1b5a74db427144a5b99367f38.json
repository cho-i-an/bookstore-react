{"ast":null,"code":"import\"../assets/css/CartTable.css\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faMinusCircle}from'@fortawesome/free-solid-svg-icons/faMinusCircle';import{faPlusCircle}from'@fortawesome/free-solid-svg-icons/faPlusCircle';import{CartStore}from\"../contexts/CartContext\";import{useContext}from\"react\";import React from\"react\";import{CartTypes}from\"../reducers/CartReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const getBookImageUrl=function(book){let filename=book.title.toLowerCase();filename=filename.replace(/ /g,\"-\");filename=filename.replace(/'/g,\"\");filename=filename+\".jpg\";try{return require('../assets/images/books/'+filename);}catch(_){return require('../assets/images/books/the-iliad.gif');}};function CartTable(){const{cart,dispatch}=useContext(CartStore);const addBookToCart=props=>{dispatch({type:CartTypes.ADD,book:props,id:props.bookId});};const deleteBookFromCart=props=>{dispatch({type:CartTypes.REMOVE,book:props,id:props.bookId});};const totalPrice=cart.reduce((sum,item)=>sum+item.quantity*item.book.price,0)/100;return/*#__PURE__*/ (// <>\n_jsx(\"div\",{className:\"cart-table\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"cart2\",children:[cart.map(book=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-book-image\",children:/*#__PURE__*/_jsx(\"img\",{className:\"cart2\",src:getBookImageUrl(book.book),alt:\"Dune\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-book-title\",children:[\" \",book.book.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-book-price\",children:[\"$\",book.book.price/100]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-book-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"icon-button dec-button\",onClick:()=>deleteBookFromCart(book.book),children:/*#__PURE__*/_jsxs(\"i\",{className:\"fas fa-minus-circle\",children:[\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMinusCircle})]})}),/*#__PURE__*/_jsxs(\"span\",{className:\"quantity\",children:[\"\\xA0\\xA0\",book.quantity,\"\\xA0\\xA0\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"icon-button inc-button\",onClick:()=>addBookToCart(book.book),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlusCircle})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-book-subtotal\",children:[\" $\",(book.book.price/100*book.quantity).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line-sep\"})]},book.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"total-amount\",children:[\"Subtotal: $\",totalPrice.toFixed(2)]})]})}));}export default CartTable;","map":{"version":3,"names":["FontAwesomeIcon","faMinusCircle","faPlusCircle","CartStore","useContext","React","CartTypes","jsx","_jsx","jsxs","_jsxs","getBookImageUrl","book","filename","title","toLowerCase","replace","require","_","CartTable","cart","dispatch","addBookToCart","props","type","ADD","id","bookId","deleteBookFromCart","REMOVE","totalPrice","reduce","sum","item","quantity","price","className","children","map","Fragment","src","alt","onClick","icon","toFixed"],"sources":["/Users/ann/Desktop/CS5244/IAnBookstoreReactSession/client/src/components/CartTable.tsx"],"sourcesContent":["import \"../assets/css/CartTable.css\"\nimport {BookItem} from \"../types\";\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChevronLeft} from '@fortawesome/free-solid-svg-icons/faChevronLeft';\nimport {faChevronRight} from '@fortawesome/free-solid-svg-icons/faChevronRight';\nimport {faMinusCircle} from '@fortawesome/free-solid-svg-icons/faMinusCircle';\nimport {faPlusCircle} from '@fortawesome/free-solid-svg-icons/faPlusCircle';\nimport {CartStore} from \"../contexts/CartContext\";\nimport {useContext} from \"react\";\nimport React from \"react\";\nimport {CartTypes} from \"../reducers/CartReducer\";\n\n\nconst getBookImageUrl = function (book: BookItem): string {\n    let filename = book.title.toLowerCase();\n    filename = filename.replace(/ /g, \"-\");\n    filename = filename.replace(/'/g, \"\");\n    filename = filename + \".jpg\";\n    try {\n        return require('../assets/images/books/' + filename);\n    } catch (_) {\n        return require('../assets/images/books/the-iliad.gif');\n    }\n};\n\nfunction CartTable() {\n    const {cart, dispatch} = useContext(CartStore);\n    const addBookToCart = (props: BookItem) => {\n        dispatch({ type: CartTypes.ADD, book:props, id: props.bookId });\n    };\n\n    const deleteBookFromCart = (props: BookItem) => {\n        dispatch({ type: CartTypes.REMOVE, book:props, id: props.bookId });\n    };\n\n    const totalPrice = cart.reduce((sum, item) => sum + item.quantity * item.book.price, 0) / 100;\n    return (\n        // <>\n        <div className=\"cart-table\">\n            <ul className=\"cart2\">\n                {/* TODO : You need to iterate through the cart and display book image, */}\n                {/*        Book Title, unit price/quantity and total price for each item in the cart*/}\n                {/*        Note that the following simply display hardcoded data*/}\n                {cart.map((book) => (\n\n                    <React.Fragment key={book.id}>\n\n                        <li>\n\n                            <div className=\"cart-book-image\">\n                                <img className=\"cart2\" src={getBookImageUrl(book.book)} alt=\"Dune\"/>\n                            </div>\n\n                            <div className=\"cart-book-title\"> {book.book.title}</div>\n                            <div className=\"cart-book-price\">${book.book.price / 100}</div>\n\n\n                            <div className=\"cart-book-quantity\">\n                                <button\n                                    className=\"icon-button dec-button\"\n                                    onClick={() => deleteBookFromCart(book.book)}\n                                >\n                                    <i className=\"fas fa-minus-circle\"> <FontAwesomeIcon icon={faMinusCircle}/></i>\n                                </button>\n\n                                <span className=\"quantity\">&nbsp;&nbsp;{book.quantity}&nbsp;&nbsp;</span>\n\n                                <button\n                                    className=\"icon-button inc-button\"\n                                    onClick={() => addBookToCart(book.book)}\n                                >\n\n                                    <i className=\"fas fa-plus-circle\"><FontAwesomeIcon icon={faPlusCircle}/></i>\n                                </button>\n                            </div>\n\n                            <div\n                                className=\"cart-book-subtotal\"> ${(book.book.price / 100 * book.quantity).toFixed(2)}</div>\n\n\n                        </li>\n                        <div className=\"line-sep\"></div>\n                    </React.Fragment>\n\n                ))}\n\n                <div className=\"total-amount\">Subtotal: ${totalPrice.toFixed(2)}</div>\n            </ul>\n        </div>\n\n    )\n}\n\n\nexport default CartTable;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/ann/Desktop/CS5244/IAnBookstoreReactSession/client/src/contexts/CartContext.tsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from \"react\";\nimport { cartReducer } from \"../reducers/CartReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialCartState = [];\n// const initialCartState:ShoppingCartItem[] =  []\nexport const CartStore = /*#__PURE__*/createContext({\n  cart: initialCartState,\n  dispatch: () => null\n});\nCartStore.displayName = 'CartContext';\nfunction CartContext({\n  children\n}) {\n  _s();\n  const storageKey = 'cart';\n  // console.log(\"CartContext is rendered\");\n  // @ts-ignore\n  const [cart, dispatch] = useReducer(cartReducer, initialCartState, initialState => {\n    try {\n      const storedCart = JSON.parse(localStorage.getItem(storageKey) || '[]');\n      return storedCart || initialState;\n    } catch (error) {\n      console.log('Error parsing cart', error);\n      return initialState;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(CartStore.Provider, {\n    value: {\n      cart,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(CartContext, \"6aCOmEkwLMkZah7Re1SU7H+ctxs=\");\n_c = CartContext;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContext\");","map":{"version":3,"names":["React","createContext","useReducer","cartReducer","jsxDEV","_jsxDEV","initialCartState","CartStore","cart","dispatch","displayName","CartContext","children","_s","storageKey","initialState","storedCart","JSON","parse","localStorage","getItem","error","console","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ann/Desktop/CS5244/IAnBookstoreReactSession/client/src/contexts/CartContext.tsx"],"sourcesContent":["import React, {createContext, Dispatch, ReactNode, Reducer, useEffect, useReducer, useState} from \"react\";\nimport {cartReducer} from \"../reducers/CartReducer\";\nimport { ShoppingCartItem} from \"../types\";\n\n\nconst initialCartState:ShoppingCartItem[] =  []\n// const initialCartState:ShoppingCartItem[] =  []\nexport const CartStore = createContext<{\n    cart: ShoppingCartItem[];\n    dispatch: Dispatch<any>;\n}>({\n    cart: initialCartState,\n    dispatch: () => null\n});\n\nCartStore.displayName = 'CartContext';\ninterface CartContextProps {\n    children: ReactNode;\n}\n\nfunction CartContext ({ children }:CartContextProps)  {\n    const storageKey = 'cart'\n    // console.log(\"CartContext is rendered\");\n    // @ts-ignore\n    const [cart, dispatch] =useReducer(cartReducer, initialCartState,\n        (initialState) => {\n            try {\n                const storedCart = JSON.parse(localStorage.getItem(storageKey) || '[]');\n                return storedCart as ShoppingCartItem[] || initialState;\n            } catch (error) {\n                console.log('Error parsing cart', error);\n                return initialState;\n            }\n        },\n\n\n    );\n\n    return (\n        <CartStore.Provider value={{ cart, dispatch }}>\n            {children}\n        </CartStore.Provider>\n    );\n}\nexport default CartContext;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAA2CC,UAAU,QAAiB,OAAO;AACzG,SAAQC,WAAW,QAAO,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIpD,MAAMC,gBAAmC,GAAI,EAAE;AAC/C;AACA,OAAO,MAAMC,SAAS,gBAAGN,aAAa,CAGnC;EACCO,IAAI,EAAEF,gBAAgB;EACtBG,QAAQ,EAAEA,CAAA,KAAM;AACpB,CAAC,CAAC;AAEFF,SAAS,CAACG,WAAW,GAAG,aAAa;AAKrC,SAASC,WAAWA,CAAE;EAAEC;AAA0B,CAAC,EAAG;EAAAC,EAAA;EAClD,MAAMC,UAAU,GAAG,MAAM;EACzB;EACA;EACA,MAAM,CAACN,IAAI,EAAEC,QAAQ,CAAC,GAAEP,UAAU,CAACC,WAAW,EAAEG,gBAAgB,EAC3DS,YAAY,IAAK;IACd,IAAI;MACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACN,UAAU,CAAC,IAAI,IAAI,CAAC;MACvE,OAAOE,UAAU,IAA0BD,YAAY;IAC3D,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACxC,OAAON,YAAY;IACvB;EACJ,CAGJ,CAAC;EAED,oBACIV,OAAA,CAACE,SAAS,CAACiB,QAAQ;IAACC,KAAK,EAAE;MAAEjB,IAAI;MAAEC;IAAS,CAAE;IAAAG,QAAA,EACzCA;EAAQ;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACO,CAAC;AAE7B;AAAChB,EAAA,CAvBQF,WAAW;AAAAmB,EAAA,GAAXnB,WAAW;AAwBpB,eAAeA,WAAW;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}